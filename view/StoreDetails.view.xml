<mvc:View
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:c="sap.ui.core"
	xmlns:f="sap.f"
	xmlns:layout="sap.ui.layout"
	controllerName="karina.komarovich.controller.StoreDetails">
	<f:DynamicPage 
		class="sapUiNoContentPadding"
		showFooter="true">
		<f:title>
			<f:DynamicPageTitle>
				<f:heading>
					<Title text="{i18n>StoreDetailsTitle}"/>
				</f:heading>
				<f:breadcrumbs>
					<Breadcrumbs>
						<Link press=".onNavToStoresOverview" text="{i18n>BreadcrumbsStoresOverview}"/>
						<Link press=".onNavToStoreDetails" text="{i18n>BreadcrumbsStoreDetails}"/>
					</Breadcrumbs>
				</f:breadcrumbs>
			</f:DynamicPageTitle>
		</f:title>
		<f:header>
			<f:DynamicPageHeader pinnable="true">
				<FlexBox alignItems="Start" justifyContent="SpaceBetween">
					<Panel backgroundDesign="Transparent" class="sapUiNoContentPadding">
						<layout:HorizontalLayout allowWrapping="true">
							<layout:VerticalLayout class="sapUiMediumMarginEnd">
								<ObjectAttribute title="{i18n>StorePanelEmailTitle}" text="{odata>Email}" />
								<ObjectAttribute title="{i18n>StorePanelPhoneTitle}" text="{odata>PhoneNumber}" />
								<ObjectAttribute title="{i18n>StorePanelAddressTitle}" text="{odata>Address}" />
							</layout:VerticalLayout>
								<layout:VerticalLayout class="sapUiMediumMarginEnd">
								<ObjectAttribute title="{i18n>StorePanelEstablishedTitle}" text="{
									path: 'odata>Established',
									type: 'sap.ui.model.type.Date',
									formatOptions: {
										style: 'medium'}}" />
								<ObjectAttribute title="{i18n>StorePanelFloorAreaTitle}" text="{odata>FloorArea}" />
							</layout:VerticalLayout>
						</layout:HorizontalLayout>
					</Panel>
				</FlexBox>
			</f:DynamicPageHeader>
		</f:header>
		<f:content items="{odata>Products}">
			<IconTabBar
				id="idIconTabBar"
				select=".onFilterSelect"
				class="sapUiResponsiveContentPadding">
			<items>
				<IconTabFilter
					showAll="true"
					count="{appView>/allProductsCount}"
					text="{i18n>StatusFilterAll}"
					key="ALL" />
				<IconTabSeparator />
				<IconTabFilter
					icon="sap-icon://sys-enter"
					iconColor="Positive"
					count="{appView>/okProductsCount}"
					text="{i18n>StatusFilterOk}"
					key="OK" />
				<IconTabFilter
					icon="sap-icon://message-warning"
					iconColor="Critical"
					count="{appView>/storageProductsCount}"
					text="{i18n>StatusFilterStorage}"
					key="STORAGE" />
				<IconTabFilter
					icon="sap-icon://warning"
					iconColor="Negative"
					count="{appView>/out_of_stockProductsCount}"
					text="{i18n>StatusFilterOut}"
					key="OUT_OF_STOCK" />
			</items>
				<content>
					<Table
						id="ProductsTable"
						inset="false"
						showSeparators="Inner"
						headerText="Products"
						items="{odata>rel_Products}"
						sticky="HeaderToolbar"
						noDataText="{i18n>ProductsTableNoDataText}">
						<headerToolbar>
							<Toolbar>
								<content>
									<Title 
										text="{i18n>ProductsTableTitle}"
										level="H3"/>
									<ToolbarSpacer/>
									<SearchField
										search="onProductSearch"
										width="10rem"
										placeholder="{i18n>SearchFieldPlaceholder}"/>
								</content>
							</Toolbar>
						</headerToolbar>
						<columns>
							<Column width="12em">
								<HBox>
									<OverflowToolbarButton
										tooltip="{i18n>ProductsTableNameColumn}"
										type="Transparent"
										icon="sap-icon://sort"
										text="Name"
										press="onSortButtonPress($event, 'Name')"/>
									<Text text="{i18n>ProductsTableNameColumn}" class="sapUiTinyMarginTop"/>
								</HBox>
							</Column>
							<Column 
								minScreenWidth="Tablet" 
								demandPopin="true">
								<HBox>
									<OverflowToolbarButton
										tooltip="{i18n>ProductsTablePriceColumn}"
										type="Transparent"
										icon="sap-icon://sort"
										text="Price"
										press="onSortButtonPress($event, 'Price')"/>
									<Text text="{i18n>ProductsTablePriceColumn}" class="sapUiTinyMarginTop"/>
								</HBox>
							</Column>
							<Column
								minScreenWidth="Desktop"
								demandPopin="true"
								hAlign="End">
								<HBox>
									<OverflowToolbarButton
										tooltip="{i18n>ProductsTableSpecsColumn}"
										type="Transparent"
										icon="sap-icon://sort"
										text="Specs"
										press="onSortButtonPress($event, 'Specs')"/>
									<Text text="{i18n>ProductsTableSpecsColumn}" class="sapUiTinyMarginTop"/>
								</HBox>
							</Column>
							<Column
								minScreenWidth="Desktop"
								demandPopin="true"
								hAlign="Center">
								<HBox>
									<OverflowToolbarButton
										tooltip="{i18n>ProductsTableSupplierInfoColumn}"
										type="Transparent"
										icon="sap-icon://sort"
										text="SupplierInfo"
										press="onSortButtonPress($event, 'SupplierInfo')"/>
									<Text text="{i18n>ProductsTableSupplierInfoColumn}" class="sapUiTinyMarginTop"/>
								</HBox>
							</Column>
							<Column 
								minScreenWidth="Desktop"
								demandPopin="true" 
								hAlign="End" >
								<HBox>
									<OverflowToolbarButton
										tooltip="{i18n>ProductsTableOriginCountryColumn}"
										type="Transparent"
										icon="sap-icon://sort"
										text="MadeIn"
										press="onSortButtonPress($event, 'MadeIn')"/>
									<Text 
										text="{i18n>ProductsTableOriginCountryColumn}"
										class="sapUiTinyMarginTop sapUiTinyMarginBottom"/>
								</HBox>
							</Column>
							<Column 
								minScreenWidth="Tablet"
								demandPopin="true" 
								hAlign="End">
								<HBox>
									<OverflowToolbarButton
										tooltip="{i18n>ProductsTableCompanyColumn}"
										type="Transparent"
										icon="sap-icon://sort"
										text="ProductionCompanyName"
										press="onSortButtonPress($event, 'ProductionCompanyName')"/>
									<Text 
										text="{i18n>ProductsTableCompanyColumn}"
										class="sapUiTinyMarginTop sapUiTinyMarginBottom"/>
								</HBox>
							</Column>
							<Column 
								minScreenWidth="Small"
								demandPopin="true" 
								hAlign="End">
								<HBox>
									<OverflowToolbarButton
										tooltip="{i18n>ProductsTableRatingColumn}"
										type="Transparent"
										icon="sap-icon://sort"
										text="Rating"
										press="onSortButtonPress($event, 'Rating')"/>
									<Text text="{i18n>ProductsTableRatingColumn}" class="sapUiTinyMarginTop"/>
								</HBox>
							</Column>
							<Column 
								minScreenWidth="Small"
								demandPopin="true" 
								hAlign="End">
								<Text text="" />
							</Column>
						</columns>
						<items>
							<ColumnListItem 
								type="Navigation"
								press="onNavToProductDetails">
								<cells>
									<ObjectIdentifier title="{odata>Name}" />
									<ObjectNumber 
										number="{odata>Price}" 
										unit="{i18n>PriceNumberUnit}"
										tooltip="{i18n>ProductsTablePriceColumn}"/>
									<Text 
										text="{odata>Specs}" 
										tooltip="{i18n>ProductsTableSpecsColumn}" 
										maxLines="1" 
										textAlign="Left"/>
									<Text 
										text="{odata>SupplierInfo}" 
										tooltip="{i18n>ProductsTableSupplierInfoColumn}" 
										maxLines="1" 
										textAlign="Left"/>
									<Text 
										text="{odata>MadeIn}" 
										tooltip="{i18n>ProductsTableOriginCountryColumn}" 
										textAlign="Left"/>
									<Text 
										text="{odata>ProductionCompanyName}" 
										tooltip="{i18n>ProductsTableCompanyColumn}" 
										textAlign="Left"/>
									<RatingIndicator 
										id="RI_default" 
										maxValue="5" 
										class="sapUiSmallMarginBottom" 
										value="{odata>Rating}" 
										tooltip="{i18n>ProductsTableRatingColumn}"
										editable="false"/>
									<HBox>
										<Button 
											type="Transparent" 
											icon="sap-icon://edit"
											press="onEditProductPress"/>
										<Button 
											type="Transparent" 
											icon="sap-icon://decline" 
											press="onDeleteProductPress"/>
									</HBox>
								</cells>
							</ColumnListItem>
						</items>
					</Table>
				</content>
			</IconTabBar>
		</f:content>
		<f:footer>
			<OverflowToolbar>
				<ToolbarSpacer/>
				<Button 
					type="Ghost"
					icon="sap-icon://add"
					text="{i18n>CreateButton}"
					press="onOpenDialogCreateProduct" />
				<Button 
					type="Reject"
					icon="sap-icon://delete"
					text="{i18n>DeleteButton}"
					press="onDeleteStorePress"/>
			</OverflowToolbar>
		</f:footer> 
	</f:DynamicPage>
</mvc:View>